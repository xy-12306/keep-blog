[{"title":"CentOS 7安装Docker","url":"/2025/01/01/CentOS%207%E5%AE%89%E8%A3%85Docker/","content":"CentOS 7（使用 yum 安装 Docker）1. 更换软件源curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repoyum makecache   # 生成缓存\n\n2. CentOS 7（使用 yum 安装 Docker）# Step 1: 安装必要的一些系统工具sudo yum install -y yum-utils# Step 2: 添加软件源信息yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo# Step 3: 安装 Dockersudo yum install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin# Step 4: 开启 Docker 服务并设置开机自启动sudo service docker startsudo systemctl enable docker\n\n3. 配置镜像加速地址sudo mkdir -p /etc/dockersudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;&#123;    &quot;registry-mirrors&quot;: [        &quot;https://docker.xuanyuan.me&quot;,        &quot;https://docker.1ms.run&quot;,        &quot;https://docker.udayun.com&quot;,        &quot;https://docker.m.daocloud.io&quot;,        &quot;https://atomhub.openatom.cn&quot;    ]&#125;EOFsudo systemctl daemon-reloadsudo systemctl restart docker\n\n\n检查加速是否生效：\n\n\n查看 Docker 系统信息，输入 docker info，如果从输出结果中看到了 registry mirror 刚配置的内容地址，说明配置成功。\n\n4. 拉取镜像示例docker pull [镜像名称:版本号]docker pull mysql:8.0docker pull nginx:1.27.0\n\n\nDocker 自动部署\n脚本下载地址：Docker 安装脚本\n\n\n参考网页\nDocker 国内镜像源&#x2F;加速地址\nCentOS （使用 yum 进行安装）- 阿里云开发者社区\n\n","categories":["Linux"],"tags":["Docker","Linux"]},{"title":"Docker国内镜像源加速地址-5.5日更新","url":"/2025/05/05/Docker%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%E6%BA%90%E5%8A%A0%E9%80%9F%E5%9C%B0%E5%9D%80-5.5%E6%97%A5%E6%9B%B4%E6%96%B0/","content":"Docker国内镜像源&#x2F;加速地址-5.5日更新1.配置镜像加速地址sudo mkdir -p /etc/dockersudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;&#123;    &quot;registry-mirrors&quot;: [        &quot;https://docker.xuanyuan.me&quot;,        &quot;https://docker.1ms.run&quot;,        &quot;https://docker.m.daocloud.io&quot;,        &quot;https://atomhub.openatom.cn&quot;    ]&#125;EOFsudo systemctl daemon-reloadsudo systemctl restart docker\n\n\n检查加速是否生效：\n\n\n查看docker系统信息 ,输入 docker info ，如果从输出结果中看到了 registry mirror 刚配置的内容地址，说明配置成功。\n\n2.拉取镜像示例docker pull [镜像名称:版本号]docker pull mysql:8.0docker pull nginx:1.27.0\n\n\n\n   参考网页 ：\n\nCentOS 7 环境下的 Docker 安装与配置 \n轩源的网络日志\n\n","categories":["Docker"],"tags":["Docker","镜像加速"]},{"title":"Ftp服务搭建","url":"/2025/01/01/Ftp%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/","content":"Ftp服务搭建一、关闭防火墙# 关闭防火墙systemctl stop firewalld    # 禁止防火墙开机自启动systemctl disable firewalld # 查看防火墙状态systemctl status firewalld  setenforce 0\n\n\n将未注释的SELINUX行的值改为disabled\nvim /etc/sysconfig/selinux\n\nSELINUX=disabled\n\n二、安装服务1. 安装vsftpd服务yum -y install vsftpd# 查看是否安装成功rpm -qa|grep vsftpd\n\n2. 修改配置文件vim /etc/vsftpd/vsftpd.conf\n\n\n参考下面图片，把注释号“#”去掉，保存退出\n\n\n3. 创建目录并修改权限# 创建目录mkdir /var/ftp/jimu# 修改权限chown ftp /var/ftp/jimull -d /var/ftp/jimu# 允许匿名用户写入文件setsebool -P allow_ftpd_anon_write on  getsebool -a | grep ftp# 修改上下文chcon -t public_content_rw_t  /var/ftp/jimu/ls -Zd /var/ftp/jimu/# 开启服务器getenforce \n\n4. 重启vsftpb服务systemctl restart vsftpd.service\n\n三、windows端测试连接按照以下格式,在windows资源管理器中输入 改为自己的IP地址\n\nftp:&#x2F;&#x2F;192.168.196.52\n\n\n\n相关文章\nsamba服务搭建\nNFS服务搭建\nMail服务搭建\n\n","categories":["Linux"],"tags":["Linux","FTP"]},{"title":"Linux笔记","url":"/2023/01/01/Linux%E7%AC%94%E8%AE%B0/","content":"第一章：Linux系统概念及命令学习Linux系统基本概念\n多用户系统：允许同时有很多个用户登录系统，使用系统，root用户是系统管理员，具有最高权限\n严格区分大小写：命令、选项、文件名、目录名都严格区分大小写\n目录结构： Linux系统采用层级目录结构，最顶层为根目录（&#x2F;），其他目录都是根目录下的子目录\n不分区扩展名：对于Linux系统而言，文件可以没有扩展名，扩展名如：.sh（脚本文件)   .conf（程序配置文件） .log（日志文件）  .rpm（软件包）.tar（压缩包）是易于用户和程序本身方便识别\n没有提示就是最好的提示（成功了）\nLinux系统没有回收站\n\n命令终端介绍例如：[root@localhost ~]\n解释：\n\nroot                  当前登录系统用户名(root超级管理员)\n\nlocalhost        当前主机名\n\n~                         当前用户所在目录（~ 为家目录） ，root超级管理员家目录：&#x2F;root\n\n#                         当前用户身份是超级管理员\n\n$                         当前用户身份为普通用户，普通用户的家目录：&#x2F;home&#x2F;用户名同名\n\n\n命令格式介绍命令 [-选项]... [参数]...\n解释：\n\n命令                 实现功能的指令\n\n选项                 调整命令功能的\n\n短选项：-l  -a  -d  -h（单个字母），短选项可以合并使用：-lad   \n长选项：–help（单词），长选项通常是不能合并使用的\n\n\n参数              命令的执行对象，文件&#x2F;目录&#x2F;程序等\n\n[]                  可选的\n\n...               可以同时有多个\n\n\nLinux系统辨别目录与文件的方法\n蓝色表示目录（windows系统里的文件夹）\n\n白色表示文本文件\n\n浅蓝色表示链接文件（类似于windows系统的快捷方式）\n\n绿色表示可执行文件（如脚本，命令程序文件）\n\n红色表示压缩文件（压缩包需要扩展名）\n\n黄色表示设备文件（硬盘、网卡、CPU、内存条等硬件设备都是以文件的形式存在的）\n\n红色闪动文件——&gt;表示链接文件不可用（需要查看文件的详细属性才可以看到）\n\n\n通过文件详细属性辨别\n-        文件\n\nd        目录\n\nl        链接文件\t\t\n\nb        硬件设备文件\n\nc         字符设备文件\n\np         管道设备文件\n\ns         套接字\n\n\n\t\t\t\nls 查看目录&#x2F;文件命令ls命令（英文全拼：list）：用于列出目录下内容及文件详细属性信息\n命令格式：ls [-选项]... [参数]...\n常用选项：\n\n-a        显示目录下所有内容，包含隐藏的内容\n-l         显示文件的详细属性（文件的权限、文件的大小、时间等）\n-h        以kB、MB、GB单位显示文件内容大小\n-d        仅显示目录本身而不显示目录下的内容\n-R        递归查看目录下所有内容（从头到尾）\n-i        查看文件的inod号（文件都有一个唯一的ID号）\n\nLinux 系统下的归属关系在Linux系统下，文件给用户分成了三类\n\n所有者u（user）：文件或目录的拥有者，拥有者的权限通常是最大的\n\n所属组g（group）：文件或目录属于哪一个组，所属组的权限略微比所有者小\n\n其他人o（other）：既不是文件或目录的所有者，也不属于文件或目录组内的成员，其他人的权限通常最小的权限\n\n\nls命令示例：\n#显示当前所在目录下的所有内容ls\t\t#查看根目录下所有内容ls   /#查看/etc目录下所有内容ls /etc#查看/bin目录下所有内容ls /bin#查看/dev目录下所有内容ls /dev#查看目录下所有目录和文件，包括隐藏的内容ls -a#以长格式显示目录下所有内容，包括详细的属性信息ls -l-rw-------. 1 root root 1584 8月  27 16:41 hello解释-        --文件类型1        --代表文件的引用次数root     --文件的所有者root     --文件的所属组1584     --文件的大小，默认以字节为单位显示大小8月  27 16:41      --文件最近一次的修改时间hello    --文件名#以长格式显示目录所有内容，以人性化的方式显示详细的属性信息ls -l -h#短选项合并使用ls -lh#以长格式显示目录所有内容，以人性化的方式显示详细的属性信息，包括隐藏的内容ls -lha#以长格式显示根目录下所有内容，包括详细的属性信息ls -l /lrwxrwxrwx.   1 root root    7 3月  13 17:15 bin -&gt; usr/bin\n\n\n\n命令行编辑技巧\n键盘上下键调出历史命令（常用）\nCtrl + c：废弃当前命令行中的命令，取消当前执行的命令，例如ping、tail -f（常用）\nCtrl + l,clear：清屏（常用）\ntab键自动补齐：可补齐命令、选项、文件路径、文件名称、软件名（常用）\nCtrl + a：将当前光标移动至行首\nCtrl + e：将当前光标移动至行尾\nCtrl + u 清空至行首（以当前光标为起始）\nCtrl + w 删除一个单词\nexit，logout：退出系统（并不是关机，账号退出系统）（常用）\nesc + . ：将上一条命令参数变成当前命令的执行对象（常用）\n\nLinux 基本权限的类别\nr 读取  w 写入  x 执行  - 没有权限\n\n权限顺序：rwx  rwx  rwx\n\n\n# ls -l-rw-r--r--. 1 root root 1831 3月  13 17:45 initial-setup-ks.cfg#解释-：文件类型rw- r-- r--：所有者u、所属组g、其他人o的权限u   g   or 读取权限，w写入权限，x执行权限，-没有任何权限1：代表文件的引用次数root：文件的所有者root：文件的所属组1831：文件的大小，默认以字节为单位显示大小3月  13 17:45：文件最近一次的修改时间initial-setup-ks.cfg：文件名#查看/root目录本身详细属性信息ls -ld /rootdr-xr-x---. 14 root root 4096 3月  14 16:38 /root#查看当前目录下所有内容的inode号# ls -i33574979 anaconda-ks.cfg  33574984 initial-setup-ks.cfg  33575035 模板  33575036 图片  17470701 下载            17470702 音乐33575020 hello.txt        51909391 公共                  51909392 视频   3204374 文档  33575017 新建文件夹.zip   3204373 桌面#查看hello.txt文件的inode号ls -i hello.txt33575020 hello.txt#查看/etc/目录本身的inode号ls -id /etc16777281 /etc\n\n\n\n学习方法\n遇到问题：前期不要求你们有排错的能力（多问）\n思考自己能不能决绝：百度、Google、最后在问老师\n培养主动学习，多动手，多实践，不要被动学习（学过不等于掌握）基础阶段没有捷径\n不要死磕一个技术点，低头拉车的时候不要忘了抬头看路\n\n课后练习1.命令行以$作为结尾代表什么含义？\n\n\n2.请写出Linux系统一般的命令格式？\n\n\n3.在Linux系统下，如何辨别目录与文件的类型？\n\n\n4.如何查看一个文件的详细属性？\n\n\n5.如何查看一个目录本身的详细属性？\n\n\n6.查看文件详细属性，并以KB、MB、GB的方式显示文件的大小？\n\n\n7.如何查看一个文件的inode号？（了解即可）\n\n\n8.请写出Linux下文件的三个归属关系？\n\n\n9.请写出Linux下基本权限的表示方式？\n\n\n10.命令行以#作为结尾代表什么含义？\n\n\n第二章：常用文件管理命令1. mkdir 创建目录命令mkdir（英文全拼：make directory）用于创建新目录\n\n命令格式：mkdir [-选项] 目录名\n\n常用选项：\n\n-p 递归创建多个目录（在一个不存在的目录下创建子目录）\n\n\n注意事项：\n\n目录还是文件的名字，除了以“&#x2F;”以外的任意名称，“&#x2F;”根目录，路径分隔符\n文件或目录的名字长度不能超过255个字符\n\n\n\n#在当前所在目录创建test目录mkdir test#在当前所在目录同时创建多个目录mkdir test1 test2 test3#指定在/tmp目录下创建abc目录mkdir /tmp/abc#在指定目录下同时创建多个目录mkdir /tmp/abc1 /tmp/abc2 /tmp/abc3#在/opt目录下创建student，在当前目录创建student1..3mkdir /opt/student student1  student2 student3#mkdir默认无法在一个不存在的目录下创建目录，需要通过-p选项mkdir /opt/xx/oomkdir: 无法创建目录&quot;/opt/xx/oo&quot;: 没有那个文件或目录mkdir /opt/a/b/c/dmkdir: 无法创建目录&quot;/opt/a/b/c/d&quot;: 没有那个文件或目录#在/opt目录下递归创建目录mkdir -p /opt/xx/oomkdir -p /opt/a/b/c/d#ls -R选项可以递归目录下所有内容ls -R /opt/a/opt/a:b/opt/a/b:c/opt/a/b/c:d\n\n\n\n2. cd 切换目录命令cd（英文全拼：change directory）切换目录\n命令格式：cd [-选项] [目录名]\n\n提示：如果不指定目录名称，则切换到当前用户的家目录~\n\n常用快捷操作：\n\n~   表示为家目录（可以直接cd）\n..   表示上一级目录\n-    可在最近的两路径之间来回切换\n\n\n\n3. 绝对路径与相对路径绝对路径：以&#x2F;（根）为起点，到达你想去的目标目录称为绝对路径\n相对路径：以当前路径为起点，到达你想去的目标目录（必须保证相对路径下存在这个目录）\n4. pwd 打印当前所在目录pwd（英文全拼：print work directory）显示当前所在目录完整路径名称\n\n命令格式：pwd [-选项]\n\n# cd /opt/a/b/c/d打印当前所在目录绝对路径pwd#切换到用户家目录# cd ~# pwd/root# cd /opt/a/b/c/d# pwd/opt/a/b/c/d# cd# pwd/root# cd /bin# pwd/bin# cd /boot# pwd/boot# ls# cd /dev# pwd/dev# ls# cd /etc# pwd/etc# ls# ls /bin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var#“.”表示当前所在目录，对于cd命令而言作用不大# cd .# cd /opt/a/b/c/d# pwd/opt/a/b/c/d#“..”切换到当前目录的上一级目录# cd ..# pwd/opt/a/b/c# cd ..# pwd/opt/a/b# cd ..# cd ..# pwd/opt# cd ..# cd ..# cd# ls# cd /opt/a/b/c/d# pwd/opt/a/b/c/d&quot;-&quot;可在两个路径之间来回切换# cd /etc/yum# cd -/opt/a/b/c/d# pwd/opt/a/b/c/d# cd -/etc/ym# cd -/opt/a/b/c/d# cd -/etc/yum\n\n\n\n5. rmdir 删除空目录命令rmdir（英文全拼：remove directory）删除空目录（了解即可）\n\n命令格式：rmdir [-选项] 目录名\n\n#rmdir只能删除空目录，如果目录下存在数据无法删除rmdir /opt/armdir: 删除 &quot;/opt/a&quot; 失败: 目录非空ls -R /opt/a/opt/a:b/opt/a/b:c/opt/a/b/c:d/opt/a/b/c/d:rmdir /opt/a/b/c/dls -R /opt/a/opt/a:b/opt/a/b:c/opt/a/b/c:rmdir /opt/a/bls -R /opt/a/opt/a:rmdir /opt/als /optrh  student  xxrmdir /opt/rmdir: 删除 &quot;/opt/&quot; 失败: 目录非空\n\n\n\n6. touch 创建文件命令touch 命令用于创建新的空白文件\n命令格式：touch [-选项] 文件名\n#在当前路径创建空文件touch hello#在当前路径同时创建多个文件touch t1 t2 t3 t4#在指定路径同时创建多个文件touch /opt/test1 /opt/test2 /opt/test3#如果存在同名目录时，无法创建mkdir testmkdir: 无法创建目录&quot;test&quot;: 文件已存在#如果存在同名文件时，touch命令没有提示，但原有文件不会被覆盖touch t1#对于目录而言，只有单个目录的时候，“/”可有可无ls /opt/rh  student  test1  test2  test3  xxls /optrh  student  test1  test2  test3  xx#对于目录而言，查看目录下的内容时，必须要有“/”，如果查看的是目录本身，可有可无！ls /optls /opt/xx#对于文件而言，后边绝对不能有“/”ls /opt/test1/opt/test1ls /opt/test1/ls: 无法访问/opt/test1/: 不是目录\n\n\n\n7. cp 复制命令cp（英文全拼：copy file）用于复制文件或目录，cp命令在复制时也可修改目录或文件名字\n\n命令格式：cp [-选项] 源文件 目标目录\n常用选项：\n-p          #保留源文件属性不变拷贝（如：修改时间、归属关系、权限）\n-r           #支持对目录拷贝\n使用 . 配合cp命令执行复制\n\n#复制当前目录文件到/opt目录（相对路径方式复制）cp t1 /opt/#复制文件到/opt目录（绝对路径方式复制）cp /root/t2 /opt#同时复制多个文件cp t3 t4 /opt/#创建目录mkdir abc#使用-r对目录执行复制cp -r abc /opt#同时复制多个目录mkdir abc1 abc2 abc3cp -r abc1 abc2 abc3 /opt#复制hello文件到/opt并改名为hello.txtcp hello /opt/hello.txt#复制xxxx目录到/opt并改名xxoomkdir xxxxcp -r xxxx /opt/xxoo#使用“.”配合cp命令执行复制cd /etc/sysconfig/network-scripts/cp /root/t1 .#操持属性不变复制文件cp -p anaconda-ks.cfg /optcp：是否覆盖&quot;/opt/anaconda-ks.cfg&quot;？ y                         #对比以上两个文件的详细属性信息（最后一次修改时间）ls -l anaconda-ks.cfg -rw-------. 1 root root 1800 3月  13 17:34 anaconda-ks.cfg#这两个操作代表什么意思？cp -r test /opt/public  #拷贝并改名cp -r test /opt/public  #拷贝到该目录下\n\n\n\n8. mv 移动命令mv（英文全拼：move file）用于移动文件到其他位置，也可用于修改文件名\n\n命令格式：mv [-选项] 源文件… 目标路径\n使用 . 配合mv命令使用\n\n#移动当前路径hello文件到/mnt目录mv hello /mnt#同时移动多个文件mv t1 t2 t3 t4 /mnt#移动/opt目录下文件到/mntmv /opt/test1 /opt/test2 /opt/test3 /mnt/#移动目录mv student1 /mnt#移动文件并改名mv hello.txt /media/hello#移动目录并改名mv test /media/testxx\n\n提示：\n\n移动直接将源文件移动到目标目录，源文件消失了\n拷贝源文件依然存在\n\n9. cat 查看文件内容命令cat （英文全拼：concatenate）命令用于查看文件内容\n\n命令格式：cat [选项] 文件名\n\n常用选项\n\n-n    #查看文件时以行号的形式显示文件内容\n\n\n\n#查看文件内容(本地域名解析文件)cat /etc/hosts#查看网卡文件内容，网卡配置文件cat /etc/sysconfig/network-scripts/ifcfg-ens32 #查看当前系统用户基本信息文件内容cat /etc/passwd#查看当前系统主机名配置文件内容cat /etc/hostname#查看当前系统版本信息文件内容cat /etc/centos-release #查看当前系统开机自动挂载配置文件内容cat /etc/fstab#查看系统组基本信息文件内容cat /etc/group#查看存放DNS配置文件信息cat /etc/resolv.conf #使用“-n”以行号形式显示文件内容cat -n /etc/passwdcat -n /etc/hostnamecat -n /etc/fstabcat -n /etc/groupcat -n /etc/services \n\n\n\n10. less查看文件内容命令less 常用于查看内容量较大的文件，可以分页显示文件内容\n\n命令格式：less [-选项] 文件\n常用选项：-N  以行号形式显示文件内容\n\n使用技巧\n键盘上下键逐行查看\nf               向下翻一页\nb              向上翻一页\n&#x2F;关键词   搜索指定字符串（n从上向下定位，N从下向上定位）\nG             直接跳转到文件最后一行\ngg            直接跳转到文件行首\n:1000      精准的定位到某一行（每次定位需要从第一行开始，否则会从当前行数开始进行定位\nq              退出\n\nless -N /etc/services\n\n\n\n11. head与tail查看文件命令head命令：用来显示文件开头部分内容，默认显示文件开头10行内容\n\n命令格式：head [选项] 文件\n\n常用操作：\n\n-&lt;行数&gt;      #指定显示的行数\n\n\n\n head /etc/passwdhead /etc/fstabhead /etc/grouphead /etc/hostnamehead /etc/hostshead /etc/sysconfig/network-scripts/ifcfg-ens32 #指定显示文件前多少行内容head -5  /etc/passwdhead -6  /etc/passwdhead -15 /etc/passwdhead -20 /etc/passwd\n\n\n\ntail命令：用来显示文件末尾部分内容，默认显示文件末尾10行内容\n\n命令格式：tail [选项] 参数\n常用操作：\n-&lt;行数&gt; 显示指定的行数 \n常用选项：\n-f            #动态显示（常用在查看日志）\n\n\n\ntail /etc/passwd#使用“-n”指定显示文件末尾多少行内容tail -5 /etc/passwdtail -5 /etc/sysconfig/network-scripts/ifcfg-ens32 #动态查看文件内容touch t1tail -f t1#另开一个终端向文件写入内容echo 123 &gt; t1\n\n\n\n12. rm删除命令rm（英文全拼：remove）命令用于删除文件或者目录。\n\n命令格式：rm [-选项…] 目录或文件…\n\n常用选项\n\n-f   强制删除\n-r   删除目录\n*   特殊字符：系统常用符号，匹配所有！\n\n\n\nrm /opt/hello.txt rm：是否删除普通空文件 &quot;/opt/hello.txt&quot;？y#同时删除目录下指定文件[root@localhost ~]# rm /opt/t1 /opt/t2 /opt/t3 /opt/t4rm：是否删除普通空文件 &quot;/opt/t1&quot;？yrm：是否删除普通空文件 &quot;/opt/t2&quot;？yrm：是否删除普通空文件 &quot;/opt/t3&quot;？yrm：是否删除普通空文件 &quot;/opt/t4&quot;？y#使用“-f”强制删除文件（无需确认，直接删除）rm -f /mnt/hello#同时强制删除多个文件rm -f /mnt/t1 /mnt/t2 /mnt/t3 /mnt/t4#删除目录rm  -r /opt/abcrm：是否删除目录 &quot;/opt/abc&quot;？y#同时删除多个目录rm -r /opt/abc1 /opt/abc2 /opt/abc3rm：是否删除目录 &quot;/opt/abc1&quot;？yrm：是否删除目录 &quot;/opt/abc2&quot;？yrm：是否删除目录 &quot;/opt/abc3&quot;？y#同时强制删除多个目录rm -rf /opt/home /opt/student /opt/xx /opt/xxoo#rm命令在删除目录时，包含改目录及目录下所有数据全部删除rm -rf /opt/#使用“*”通配任意所有字符，删除/mnt目录下所有数据rm -rf /mnt/*\n\n","categories":["Linux"],"tags":["Linux","笔记"]},{"title":"Mail服务搭建","url":"/2024/10/01/Mail%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/","content":"一、关闭防火墙# 关闭防火墙systemctl stop firewalld    # 禁止防火墙开机自启动systemctl disable firewalld # 查看防火墙状态systemctl status firewalld  \n\n\n将未注释的SELINUX行的值改为disabledvim /etc/sysconfig/selinuxSELINUX=disabled\n\n二、搭建DNS环境1. 安装DNS服务器# 安装DNS服务器yum install -y bind\n\nvim /etc/hostname \n\n将主机名更改为邮件服务器域名 mail.test.com\n\nvim /etc/named.conf  \n\n修改这两行的内容:\nlisten-on port 53 { any; };allow-query { any; };\n\n2. 修改子配置文件vim /etc/named.rfc1912.zones\n在结尾处添加一个正向和一个反向解析区域  （IP改为自己的IP地址）\nzone &quot;test.com&quot; IN &#123;        type master;        file &quot;test.com.zone&quot;;&#125;;zone &quot;1.168.192.in-addr.arpa&quot; IN &#123;        type master;        file &quot;test.com.local&quot;;&#125;;  \n\n3. 进入DNS服务器区域配置文件目录cd /var/named/ # 复制模板区域配置文件为指定区域配置文件。保留源文件权限，确定属组为namedcp -p named.localhost test.com.zonecp -p named.localhost test.com.local \n\n4. 编辑正反向区域配置文件(在cd &#x2F;var&#x2F;named&#x2F;目录中)  (IP改为自己的IP地址）vim test.com.zone \n&lt;img   src&#x3D;”https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b710eb1f7824747b8225364dd83ab35~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHkxMjMwNg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1736153754&amp;x-signature=M7PgEEGD3u51nwqNMHxtCeQeD88%3D“  alt&#x3D;”示例图片”  style&#x3D;”transform: scale(1.0);”  loading&#x3D;”lazy”\n\n\nvim test.com.local\n&lt;img   src&#x3D;”https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b654e3241aa421e9b9b794be1c14372~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeHkxMjMwNg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1736153754&amp;x-signature=ZM2Ksb%2BNJx1dwti0kC6CPPliVeE%3D“  alt&#x3D;”示例图片”  style&#x3D;”transform: scale(1.0);”  loading&#x3D;”lazy”\n\n\n5. 启动DNS域名解析服务器\n给本机的DNS指向自己的dns服务器vim /etc/resolv.conf\n\nnameserver 192.168.1.3\n\n\n启动后测试\n\n# 启动systemctl start named# 安装nslookup命令测试dns能否解析成功yum install -y bind-utils\n\n\n解析服务器地址测试\n\n[root@mail named]`nslookup mail.test.com` # 正向解析Server:192.168.1.3Address:192.168.1.3#53Name:mail.test.comAddress: 192.168.1.3\n\n[root@mail named] `nslookup 192.168.1.3`# 反向解析3.1.168.192.in-addr.arpa            name = mail.test.com. # 成功\n\n三、安装postfix服务进行收发件测试\n一般Centos7是默认自动安装postfix服务器的。检查系统是否已经安装了postfix服务器，使用以下命令\n[root@mail named] rpm -q postfix\npostfix-2.10.1-6.el7.x86_64\n检查postfix是否支持cyrus dovecot功能.\n[root@mail named]postconf -a\ncyrus\ndovecot\n\n1. postfix配置vim /etc/postfix/main.cf\n\n在配置文件中修改以下参数\n\nmyhostname = mail.test.com //本机主机名mydomain = test.com        //服务器域名myorigin = $mydomain       //初始域名inet_interfaces = all      //监听接口inet_protocols = ipv4      //监听网络版本，可以不改mydestination = $myhostname, localhost.$mydomain, localhost, $mydomainhome_mailbox = Maildir/    //邮件目录，在用户家目录下       \n\n\n启动后设置用户和密码   请记住设置的密码\n\n#检查配置文件是否有语法错误[root@mail named] postfix check # 启动postfix服务器[root@mail named] systemctl start postfix# 添加邮件账号组groupadd mailusers # 设置用户jack和tom                        useradd -g mailusers -s /sbin/nologin jack passwd jackuseradd -g mailusers -s /sbin/nologin tompasswd tom                                \n\n2. 邮件服务器发件测试# 安装远程登录插件，用于登录25端口测试yum install -y telnet       # 重启postfix服务systemctl restart postfix\n\n\n远程登录25端口，如报错连接不上，重启postfix\n[root@mail ~]  telnet mail.test.com 25\nTrying 192.168.1.3…\nConnected to mail.test.com.\nEscape character is ‘^]’.\n220 mail.test.com ESMTP Postfix\nmail from:&lt;root@test.com&gt;\n250 2.1.0 Ok\nrcpt to:jack\n250 2.1.5 Ok\ndata\n354 End data with .\nHello, this is a test mail. \n.\n250 2.0.0 Ok: queued as 6B1E6801BBC\nquit\n221 2.0.0 Bye\nConnection closed by foreign host.\n[root@mail ~] tail /var/log/maillog|grep sent   # 查看发送状态\nDec 10 11:23:31 mail postfix&#x2F;local[7136]: 6B1E6801BBC: to&#x3D;&#106;&#97;&#99;&#x6b;&#64;&#x74;&#x65;&#115;&#x74;&#x2e;&#99;&#x6f;&#x6d;, orig_to&#x3D;, relay&#x3D;local, delay&#x3D;33, delays&#x3D;33&#x2F;0.01&#x2F;0&#x2F;0, dsn&#x3D;2.0.0, status&#x3D;sent (delivered to maildir)\n\n3. 邮件服务器收件测试# 在Mail服务器上安装配置Dovecot以接收邮件yum install -y dovecot   \n\n\n修改这三个配置文件\n\nvim /etc/dovecot/dovecot.conf protocols = imap pop3 lmtplisten = *, ::     vim /etc/dovecot/conf.d/10-auth.confdisable_plaintext_auth = no  vim /etc/dovecot/conf.d/10-mail.confmail_location = maildir:~/Maildir       # 重启服务   systemctl restart dovecot\n\n[root@mail ~]` telnet mail.test.com 110`Trying 192.168.1.3...Connected to mail.test.com.Escape character is &#x27;^]&#x27;.+OK Dovecot ready.` user jack`+OK`pass admin`                  # 这里格式为`pass+密码`,我前面设置的密码是admin，改为自己的密码。+OK Logged in.`list`+OK 1 messages:1 404.`  retr 1    `(输入邮件编号查看邮件，需要自行输入）+OK 404 octetsReturn-Path: &lt;root@test.com&gt;X-Original-To: jackDelivered-To: &lt;jack@test.com&gt;Received: from mail.test.com (mail.test.com [192.168.1.3])by mail.test.com (Postfix) with SMTP id 6B1E6801BBCfor &lt;jack&gt;; Tue, 10 Dec 2024 11:22:58 +0800 (CST)Message-Id: &lt;20241210032311.6B1E6801BBC@mail.test.com&gt;Date: Tue, 10 Dec 2024 11:22:58 +0800 (CST)From: &lt;root@test.com&gt;Hello, this is a test mail..`quit `+OK Logging out.Connection closed by foreign host.\n\n相关文章\nFTP服务搭建\nNFS服务搭建 \nsamba服务搭建\n\n","categories":["Linux"],"tags":["Linux","Mail"]},{"title":"NFS服务搭建","url":"/2024/10/25/NFS%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/","content":"一、环境准备\n为了搭建并且检验NFS服务的配置，我们需要准备两台安装Linux系统（这里以Centos7为例）的服务器，一台充当NFS服务端，开放共享目录，提供NFS存储服务；一台充当NFS客户端，挂载服务端共享目录到本地，使用NFS存储服务。\n\n\n\n\n类型\nIP\n\n\n\n服务端\n192.168.196.46\n\n\n客户端\n192.168.196.47\n\n\n1. 关闭防火墙# 关闭防火墙systemctl stop firewalld# 禁止防火墙开机自启动systemctl disable firewalld # 查看防火墙状态systemctl status firewalld  \n\n\n将未注释的SELINUX行的值改为disabled vim &#x2F;etc&#x2F;sysconfig&#x2F;selinuxSELINUX=disabled\n\n二、服务端安装配置NFS服务(需要先关闭防火墙)1.   安装nfs-utils与rpcbindyum -y install nfs-utils rpcbind\n\n2.  编辑nfs的配置文件\n编辑nfs配置文件(默认空的)IP改为自己的IP\n  vim /etc/exports\n\n\n/public 192.168.196.46/24(rw)/protected 192.168.196.46/24(rw)\n\n\n创建文件夹并启动\n\n# 创建文件夹mkdir /public  mkdir /protected# 使配置生效exportfs -r # 按照顺序启动systemctl start rpcbindsystemctl start nfs# 设置开机自启动 systemctl enable rpcbind systemctl enable nfs# 校验配置showmount -e localhost\n\n3.使用rpcinfo -p查看并验证\n[root@localhost ~]  rpcinfo -p\nprogram vers proto port service\n100000 4 tcp 111 portmapper\n100000 3 tcp 111 portmapper\n100000 2 tcp 111 portmapper\n100000 4 udp 111 portmapper\n100000 3 udp 111 portmapper\n100000 2 udp 111 portmapper\n100024 1 udp 43763 status\n100024 1 tcp 59968 status\n100005 1 udp 20048 mountd\n100005 1 tcp 20048 mountd\n100005 2 udp 20048 mountd\n100005 2 tcp 20048 mountd\n100005 3 udp 20048 mountd\n100005 3 tcp 20048 mountd\n100003 3 tcp 2049 nfs\n100003 4 tcp 2049 nfs\n100227 3 tcp 2049 nfs_acl\n100003 3 udp 2049 nfs\n100003 4 udp 2049 nfs\n100227 3 udp 2049 nfs_acl\n100021 1 udp 51863 nlockmgr\n100021 3 udp 51863 nlockmgr\n100021 4 udp 51863 nlockmgr\n100021 1 tcp 32832 nlockmgr\n100021 3 tcp 32832 nlockmgr\n100021 4 tcp 32832 nlockmgr\n\n三、客户端配置（需要先关闭防火墙)1.  安装nfs但无需启动yum -y install nfs-utils rpcbind\n\n2.  查看服务端挂载的目录 用自己的IP地址\n[root@localhost data] showmount -e 192.168.196.46\nExport list for 192.168.196.46:\n&#x2F;protected 192.168.196.46&#x2F;24\n&#x2F;public 192.168.196.46&#x2F;24\n\n3.   挂载要共享的目录# 创建新文件夹mkdir -p /mnt/publicmkdir -p /mnt/data\n\n# 挂载目录--两种方法二选一（ip改为自己的ip）#（第一种方法，不会开机自启自动挂载）mount -t nfs 192.168.196.46:/public  /mnt/publicmount -t nfs 192.168.196.46:/protected  /mnt/data\n\n#（第二种方法，可以开机自启自动挂载）vim /etc/fstab192.168.196.46:/public  /mnt/publicnfs  defaults  0 0192.168.196.46:/protected /mnt/datanfs  defaults  0 1mount -a   #使配置生效\n\n\n查看挂载盘df -h\n文件系统 容量 已用 可用 已用% 挂载点\ndevtmpfs 898M 0 898M 0% &#x2F;dev\ntmpfs 910M 0 910M 0% &#x2F;dev&#x2F;shm\ntmpfs 910M 9.6M 901M 2% &#x2F;run\ntmpfs 910M 0 910M 0% &#x2F;sys&#x2F;fs&#x2F;cgroup\n&#x2F;dev&#x2F;mapper&#x2F;centos-root 17G 1.8G 16G 11% &#x2F;\n&#x2F;dev&#x2F;sda1 1014M 153M 862M 16% &#x2F;boot\ntmpfs 182M 0 182M 0% &#x2F;run&#x2F;user&#x2F;0\n192.168.196.46:&#x2F;public 17G 1.8G 16G 11% &#x2F;mnt&#x2F;public\n192.168.196.46:&#x2F;protected 17G 1.8G 16G 11% &#x2F;mnt&#x2F;data\n\n四、验证测试\n在服务端的 &#x2F;public 目录中创建一个文件（如a.txt），然后去客户端本地 &#x2F;mnt&#x2F;public 目录中查看，若存在a.txt，则说明配置成功\n在客户端本地 &#x2F;mnt&#x2F;public 目录中创建一个文件（如b.txt），然后去服务端的 &#x2F;public 目录中查看，若存在b.txt，则说明配置成功\n同理测试另一个挂载目录\n\n\n客户端无法创建文件，权限不足解决\n在服务端做目录权限的更改\n\ncd /sudo chown nfsnobody publicsudo chgrp nfsnobody public    cd /sudo chown nfsnobody protectedsudo chgrp nfsnobody protected\n","categories":["Linux"],"tags":["Linux","NFS"]},{"title":"samba服务搭建","url":"/2024/10/25/samba%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/","content":"samba服务搭建一、关闭防火墙# 关闭防火墙systemctl stop firewalld    # 禁止防火墙开机自启动systemctl disable firewalld # 查看防火墙状态systemctl status firewalld  setenforce 0\n\n\nvim &#x2F;etc&#x2F;sysconfig&#x2F;selinux 将未注释的SELINUX行的值改为disabledSELINUX=disabled\n\n二、安装samba与配置1.  安装与启动yum install -y samba# 启动samba并设置开机自启动systemctl enable smbsystemctl enable nmbsystemctl start  smbsystemctl start  nmb\n\n2. 相关配置\n创建共享文件夹及测试文件\n\nmkdir -p /smb/sharechmod 777 /smb/sharecd  /smb/shareecho &#x27;Hello World&#x27; &gt; 1.txt\n\nvim /etc/samba/smb.conf\n\n在结尾处添加以下内容\n\n[share]                               comment = share               path =/smb/share              browseable = yes              read only = no             writeable = yes               public = Yes         \n\n\n添加用户并启动服务 请记住设置的密码\n\n# 添加用户并设置密码 useradd user01smbpasswd -a user01    # 重启服务systemctl restart smbsystemctl restart nmb    # 查看服务是否启动systemctl status smbsystemctl status nmb\n\n三、window端访问测试\n在物理机中使用 win+R 调出运行窗口，按照图片输入samba服务器ip地址后弹出登录界面，输入用户和密码即可!\n\n\n\n登录成功后，即可在共享文件夹中看到文件\n\n\n\n注 : 仅适用于初学者参考使用\n\n","categories":["运维"],"tags":["samba"]},{"title":"Welcome to use Hexo Theme Keep","url":"/2022/10/25/welcome-to-use-hexo-theme-keep/","content":"Welcome to use Hexo Theme Keep.\nThis is your very first post. Check documentation for more info. If you get any problems when using Keep theme, you can ask me on GitHub.\n\n\n\nQuick StartCreate a new post$ hexo new &quot;My New Post&quot;\n\nMore info: Writing\nRun server$ hexo server\n\nMore info: Server\nGenerate static files$ hexo generate\n\nMore info: Generating\nDeploy to remote sites$ hexo deploy\n\nMore info: Deployment\n","categories":["Hexo"],"tags":["Hexo","Keep"]}]